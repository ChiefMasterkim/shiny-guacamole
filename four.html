<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scale of 4</title>
    <link rel="stylesheet" href="style.css">
    <script src="jquery-1.11.3.min.js"></script>
    <script src="jquery.js"></script>
    <script src="jquery.min.js"></script>
</head>
<body>
    <div class="container" >
      <div style="overflow-x: scroll;">
        <h3>
            CGPA
        </h3>
        <table id="myTable">
            <thead>
                <th>Score</th>
                <th>Point/unit</th>
                <th><span id="amount" class="amount">gp</span></th>
            </thead>
            <tbody id="mybody">
                <tr>
                    <td ><input type="number" name="" id="" min="0"  class="score" max="100"></td>
                    <td><input type="number"  class="point"  min="0"  max="10"></td>
                    <td  ><span class="amount"></span></td>

                </tr>
                <!--second row-->
                <tr>
                    <td ><input type="number" name="" id="" min="0"  class="score" max="100"></td>
                    <td><input type="number"  class="point"  min="0" max="9" ></td>
                    <td  ><span class="amount"></span></td>

                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="2"></td>
                    <td><span id="total" class="total"></span></td>
                </tr>
            </tfoot>
        </table>
    </div>
    <div class="buttons">
        
    <button onclick="myfunc()">Add More courses</button>
    <button class="check">Check</button>
    <button onclick="myDeleteFunction()">DELETE</button>


</div><a href="index.html">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 512 512"><title>ionicons-v5-d</title><path d="M403.13,96H156.87a44.9,44.9,0,0,0-33.68,15.27,15.88,15.88,0,0,0-1.91,2.7L32,247.75a16,16,0,0,0,0,16.5l89.15,133.57a16.24,16.24,0,0,0,2,2.88,44.89,44.89,0,0,0,33.7,15.3H403.13A44.92,44.92,0,0,0,448,371.13V140.87A44.92,44.92,0,0,0,403.13,96ZM348,311a16,16,0,1,1-22.63,22.62L271.67,280,218,333.65A16,16,0,0,1,195.35,311L249,257.33l-53.69-53.69A16,16,0,0,1,218,181l53.69,53.7L325.36,181A16,16,0,0,1,348,203.64l-53.7,53.69Z"/></svg>
</a>
</div>
    </div>
    
    </div>
    
  <script>

let display=document.getElementById('total');


 $(".check").click(function(){
     update_amounts();
     if( isNaN(display.innerText)){
        alert("Enter a value!");
            window.location ="four.html";
       }

});





function update_amounts(){
    var sum = 0.0;
    var unit = 0;
    $('#myTable > tbody > tr').each( function(){
        var score = $(this).find('.score').val() ;
        var point = $(this).find('.point').val();
        unit +=Number(point);





        if(score>100|| point>10){
            alert("Scores should be within the range of 0 to 100 and points should be from 1 to 12!");
            window.location ="four.html";
        }

      





        //var amount = (score*point);
        //declaring new 
        if(score>69){
            var amount= point * 4;
        }else if(score>59 && score<70){
            var amount = point * 3;
        }else{
            if(score>49 && score<60){
            var amount= point * 2;
        }else if(score>44 && score<50){
            var amount = point * 1;
        }
        else{
            if(score>39 && score<46){
                var amount = point *0;
            }
            else if(score<40){
                var amount = point * 0;

            }
        }
        }
        console.log(sum/unit);
        sum +=amount;


        //workspace
        $(this).find('.amount').text(''+ amount);


    });
    var gp = (sum/unit);





    $('.total').text(gp.toFixed(2));
   }
   


   function myfunc(){
    var table = document.getElementById("mybody");
    var row = table.insertRow(-1);
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    cell1.innerHTML += `<input type="number" name="" id="" min="0"  class="score" max="100">` ;
    cell2.innerHTML += `<input  type="number"  class="point"  min="0" max="10">`;
    cell3.innerHTML = `<span  class="amount"   style="text-align:right;">   </span>`;
  }


function myDeleteFunction() {
document.getElementById("mybody").deleteRow(-1);
}
   
  </script>
</body>
</html>